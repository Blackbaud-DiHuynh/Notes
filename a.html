Per Ryan H. I wrote up <a href="http://bugzilla.blackbaudcloud.com/show_bug.cgi?id=70400">E-70400</a> to address several issues we see regularly in regards to marking contact records as Active/Inactive in LCRM or deleting contacts out of LCRM. When a contact is marked Inactive in LO, it calls to LO and removes the LO contact. When the LCRM contact is flipped back to Active, no call is made out to LO to reactivate the LO contact. This now leaves an inactive LO record, with IDs matched to an active LCRM record. Any changes to the LCRM record will now increment revision IDs. If the LO record is reactivated at a later date, the records will now be out of sync and will continue to generate QPM errors until the IDs are matched up. ; When a record is deleted in LCRM, it calls out to LO and removes the record as well. However, if the LO record is reactivated at a later date, it will now try to sync data to a Member ID that has been deleted from LCRM. This will continue to generate QPM errors until the IDs are cleared in LO. What we would like is for this process to delete the row from the constituent_sync table break the connection between both records. When the contact is reactivated in LO, it will sync across to LCRM as a new record. ; Another option would be to ensure that the revision IDs are still syncing data behind the scenes in the event that the LCRM record is reactivated and the LO record remains inactive. This allows the LO record to be reactivated at a later date with the correct revision IDs. ; Currently, here is the process for Support and RDO to correct the IDs so that the records are in sync: ; *1.<span class="rally-rte-class-0ae033909">;;;;;; </span>Support identifies the errors, and confirms that revision IDs are out of sync or records are removed **2.<span class="rally-rte-class-0ae033909">;;;;;; </span>Export all errors to Problem Exports, and download the CSV **3.<span class="rally-rte-class-0ae033909">;;;;;; </span>Request a PSL to query the constituent_sync table to pull all revisions IDs/Sub-revision IDs **4.<span class="rally-rte-class-0ae033909">;;;;;; </span>Ensure all revision IDs are visible for sys admin in LCRM **5.<span class="rally-rte-class-0ae033909">;;;;;; </span>Create and run a contact report in LCRM to pull revision IDs from LCRM **6.<span class="rally-rte-class-0ae033909">;;;;;; </span>Add both LO and LCRM sets of revision IDs to the Problem Exports CSV **7.<span class="rally-rte-class-0ae033909">;;;;;; </span>Submit child case with CSV attached to RDO, and request RDO to match up or zero out the revision IDs **8.<span class="rally-rte-class-0ae033909">;;;;;; </span>RDO estimates 4 hours of work adjusting revision IDs *when they start working the case (RDO SLAs?) **9.<span class="rally-rte-class-0ae033909">;;;;;; </span>Once completed, Support contacts the client to rebuild the QPM errors ; We are currently sitting on 69 cases in CY15 for this issue. This does not include multiple asks in the same case (currently going on with JDRF). We estimate it takes 6 hours of work per case to resolve (4 hours for RDO - per Will - and 2 hours for Support). this puts us at roughly 52 days of work on these cases this year. For this reason I'm setting the bug as High. Acceptance Criteria:- When an LO record is reactivated, it should create a new LCRM contact- When an LCRM contact is reactivated, it should create a new constituent record in LO. Approach:- when a LO contact is reactivated, remove salesforce ID from the constituent sync table and null out all external revision IDs- clear out revision IDs- LO record will sync to LCRM as a 'new' constituent- The reverse should also be true (when an LCRM contact is restored from the recycle bin, the Convio ID and all external revision IDs should be nulled out)
